
<br>
<body>
    <div class="bg-img">
  <div class="container">
      <div class="bg-text">
    <div class="row">

      <div class="col-md-6">
        <form [formGroup]="addProd" (ngSubmit)="onSubmit()">

          <div class="form-group">

            <!-- <b style="color:snow">Product Id:</b> -->
            <input name="productId" class="w3-input" class="form-control" 
             placeholder="Product Id" type="text" formControlName="productId"
              [ngClass]="{ 'is-invalid': submitted && f.productId.errors }">
            <div *ngIf="submitted && f.productId.errors" class="invalid-feedback">
              <div *ngIf="f.productId.errors.required">Product Id is required</div>
              <div *ngIf="f.productId.errors.minlength">Product Id must have minlength 3</div>
            </div>
          </div>

          <div class="form-group">

            <!-- <b style="color:snow">Product Name:</b> -->
            <input name="productname" class="w3-input" class="form-control" 
            placeholder="Product Name" type="text"
              formControlName="productname"
               [ngClass]="{ 'is-invalid': submitted && f.productname.errors }">
            <div *ngIf="submitted && f.productname.errors" class="invalid-feedback">
              <div *ngIf="f.productname.errors.required">Product Name is required</div>
              <div *ngIf="f.productname.errors.minlength">Product Name must have minlength 6</div>
            </div>

          </div>


          <div class="form-group">
            <!-- <b style="color:snow">Product Price:</b> -->
            <input name="productprice" class="w3-input" class="form-control"
             placeholder="Product Price" type="text"
              formControlName="productprice"
               [ngClass]="{ 'is-invalid': submitted && f.productprice.errors }">
            <div *ngIf="submitted && f.productprice.errors" class="invalid-feedback">
              <div *ngIf="f.productprice.errors.required">Product Price is required</div>
              <!-- <div *ngIf="f.Price.errors.minlength">Product Price must have minlength 6</div> -->
              <div *ngIf="f.productprice.errors.pattern">Invalid Prod Price</div>
            </div>
          </div>

          <div class="form-group">
            <!-- <b style="color:snow">Product Image:</b> -->
            <input name="producturl" class="w3-input" class="form-control"
             placeholder="Product Image" type="text"
              formControlName="producturl" 
              [ngClass]="{ 'is-invalid': submitted && f.producturl.errors }">
            <div *ngIf="submitted && f.producturl.errors" class="invalid-feedback">
              <div *ngIf="f.producturl.errors.required">Product Image is required</div>

            </div>
            <br>
       
          <div class="form-group">
            <!-- <b style="color:snow">Product Description:</b> -->
            <input name="productdiscription" class="w3-input" class="form-control"
             placeholder="Product Description" type="text"
              formControlName="productdiscription" 
            [ngClass]="{ 'is-invalid': submitted && f.productdiscription.errors }">
            <div *ngIf="submitted && f.productdiscription.errors" class="invalid-feedback">
              <div *ngIf="f.productdiscription.errors.required">Product Description is required</div>
              <div *ngIf="f.productdiscription.errors.minlength">Product Description must have minlength 10</div>
              <div *ngIf="f.productdiscription.errors.maxlength">Product Description should not exceed 50 chars</div>
            </div>
          </div>

          </div>
          <button style="margin-left: 40%" type="submit" (click)="refresh()"  id="loginSubmit" class="btn btn-success loginFormElement addProd">Add
            Product</button>

          </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  </body>
           
<div>
<div class="products" *ngFor="let product of products">
<img src="{{product.producturl}}">
<p style="color: red;font-size: 25px;float: center">{{product.productname}}</p>
<p style="font-size: 20px;float: center">Rs: {{product.productprice}}</p>
<div class="w3-section" (click)="reloading()">
<button class="w3-button w3-green btn btn-primary" [routerLink]="['/update-prod',product._id]">Edit</button>
<button class="w3-button w3-red btn btn-danger float-left" (click)="deleteProduct(product._id)">Delete</button>
</div>
</div>
</div>
                   
        